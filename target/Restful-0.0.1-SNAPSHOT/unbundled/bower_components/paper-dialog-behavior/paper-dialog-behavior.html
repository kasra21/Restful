<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-overlay-behavior/iron-overlay-behavior.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-styles/default-theme.html">
<link rel="import" href="../paper-styles/typography.html">
<link rel="import" href="../paper-styles/shadow.html">

<script>Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{observer:"_modalChanged",type:Boolean,value:!1},_lastFocusedElement:{type:Object},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBackdropClick:{type:Function,value:function(){return this._onBackdropClick.bind(this)}}},listeners:{tap:"_onDialogClick","iron-overlay-opened":"_onIronOverlayOpened","iron-overlay-closed":"_onIronOverlayClosed"},attached:function(){this._ariaObserver=Polymer.dom(this).observeNodes(this._updateAriaLabelledBy),this._updateAriaLabelledBy()},detached:function(){Polymer.dom(this).unobserveNodes(this._ariaObserver)},_modalChanged:function(){this.modal?this.setAttribute("aria-modal","true"):this.setAttribute("aria-modal","false"),this.modal&&(this.noCancelOnOutsideClick=!0,this.withBackdrop=!0)},_updateAriaLabelledBy:function(){var e=Polymer.dom(this).querySelector("h2");if(!e)return void this.removeAttribute("aria-labelledby");var t=e.getAttribute("id");if(!t||this.getAttribute("aria-labelledby")!==t){var o;t?o=t:(o="paper-dialog-header-"+(new Date).getUTCMilliseconds(),e.setAttribute("id",o)),this.setAttribute("aria-labelledby",o)}},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=Polymer.dom(e).rootTarget;t&&t!==this;){if(t.hasAttribute){if(t.hasAttribute("dialog-dismiss")){this._updateClosingReasonConfirmed(!1),this.close(),e.stopPropagation();break}if(t.hasAttribute("dialog-confirm")){this._updateClosingReasonConfirmed(!0),this.close(),e.stopPropagation();break}}t=Polymer.dom(t).parentNode}},_onIronOverlayOpened:function(){this.modal&&(document.body.addEventListener("focus",this._boundOnFocus,!0),document.body.addEventListener("click",this._boundOnBackdropClick,!0))},_onIronOverlayClosed:function(){this._lastFocusedElement=null,document.body.removeEventListener("focus",this._boundOnFocus,!0),document.body.removeEventListener("click",this._boundOnBackdropClick,!0)},_onFocus:function(e){this.modal&&this._manager.currentOverlay()===this&&(Polymer.dom(e).path.indexOf(this)!==-1?this._lastFocusedElement=e.target:this._lastFocusedElement?this._lastFocusedElement.focus():this._focusNode.focus())},_onBackdropClick:function(e){this.modal&&this._manager.currentOverlay()===this&&Polymer.dom(e).path.indexOf(this)===-1&&(this._lastFocusedElement?this._lastFocusedElement.focus():this._focusNode.focus())}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];</script>
</head><body></body></html>